<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            * { box-sizing: border-box; }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                max-width: 768px;
                margin: 0 auto;
                padding: 16px;
                font-size: 18px;
                line-height: 1.6;
                height: 100%;
            }

            .staticrypt-content {
                height: 100%;
            }

            .staticrypt-page {
                padding-top: 20%;
            }

            .staticrypt-title {
                font-size: 1.5em;
                font-weight: bold;
                margin: 0 0 0.5em 0;
            }

            .staticrypt-instructions {
                margin-bottom: 1em;
            }

            .staticrypt-hr {
                border: 0;
                border-top: 1px solid black;
                margin: 1em 0;
            }

            .staticrypt-password-container {
                position: relative;
                margin-bottom: 1em;
            }

            .staticrypt-form input[type="password"],
            .staticrypt-form input[type="text"] {
                width: 100%;
                padding: 8px;
                font-size: 18px;
                border: 1px solid black;
                background: inherit;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                width: 20px;
                opacity: 60%;
                padding: 10px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
            }

            .staticrypt-decrypt-button {
                padding: 8px 16px;
                font-size: 18px;
                border: 1px solid black;
                background: white;
                color: black;
                cursor: pointer;
            }

            .staticrypt-decrypt-button:hover {
                background: black;
                color: white;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                animation: spinner-border 0.75s linear infinite;
            }

            @keyframes spinner-border {
                100% { transform: rotate(360deg); }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"91ff4e8b275f40f0053279ec7487306b847f32af65d52f68251e411f757951e7c07ee330a62d0b749bb8a8ef314f7d4d1937dc9081a68def35b49cbda00786b041e3a9b2fc924fa73fca014fd17875a10ee1da00d94cadb51ce140cf4b59858e0fa80d807a96928cac3fd41a2a815602169152a7dd8a4a55b47b2384ee5acaead48188106879dc43ad9d59d4e4005c6cefe758ed14eb3076cc16f613593bb41a4848923463a5aa26c52e2ce289183ec358031c6ba20526207fbb2e66b925d89ee290bb47924982fd6be1ed1a01516678a94fd2fdcb5fcc5fea0f928b0d50f131fb2ed9399a1b0f9efe3fe205cedbfa75e276cd8183585058f8bdb403302e356d262c13ec01347d172564ce155f76bbccea96ec897551638ff2c6ca01905701eda407a1ab1704b5eb02cd8ad488505628ff57529050bd16f7910d740a0374f6fa3a82f18816532aee2600e122e2030a3c0abd965468fa3ef541b4221b8210d7201a8b470a26155a8c4e2f686bbf27b167f74e13789a7bc32a53cf9d46713ba81c8035fdf4a100ece4a28dbe964521234379f6837e92f8d7b6396e69be0c58ef91baf0ab8e02a975bd901302be0ba9b46eaf22ead4779aeda4d8b90d93509a6b2a21690dc49231aa947cfada5fd4eb48f4ae6b420ce3edd1c02f480718abcf087fbc2590f1f14c26697fbf816fc327cf5e52ae17f5e123c7b029d693c7a96f69562196d2c99dc18fa8e12be41933b7bb9beb23c882120d6fe5c6001602891038af392c5ce9b5727053890565c9a49433a353424677f4a06c3dbb85dd7ca26aa0085d683a13fb3dee1ac1c25a58722c353ad301598a906de90f55fedfb2d66f90d2faf9a8ad8ae5ed0bed5b9ac072b8cbbf2bbc7165fb323fa2462bbc122c40966f13c9c6a28c3a9c0a752e7e89a6c882bae77ecba8c4e9d7b65424262dab67c7ff5f5573461832ff2bb3d73d05149aea585c53ce5e7e5c720b9c3cc14a6d9b7d552d22032167b7f00e46c177e0a3f039cec950ec97f6852cc42f78b8c8ad3c822b240a2a747fbf6851d0a723531b2e79c4615a662105afa1e71ae00499543b13f2093163d315f39061846d1bf361f41adb1788609789ae29d3a249c9c30fc236018b82baa68da2e63067f7e8c4fdd8604e37edd3130f3c534b429ca374ba93febee58a833695e8172dcf7599a92b90ad6400f6d6171987b72c2b50793061394e47b2de9d48bb819543af83317318799f3e12f0bfb72be6fc639492ee387d9012e632e5fdd5fd9c039141f1203d0a93ea74b134c9857ccc85ed47fc79d569e0dee3e275620c198718833e4d8ae316b467e19347bdf9c91655b9153cb3ad7b6bcaf3dd307b543312cdb316d898f0d9eea6fdbe0f1e41c7ec69c2e9b69ff7dd253943c1d1195bed724a1ce6cf89736e2cf93029a00b77ba8f6121d2208ae0b52e9f5d6a966191fce5202ec4da9cdd996e6ec227792cf92c8e765383d5cf685b00a146244550936273c344ebd6a6ec6087edefeacf8b0a3af6ed8c80d4b118aaca3ba0146ad0eec9bc45d7473f5bb6ebc10a81df506e387ff364273f001fc8863df5d6c54b890ed05a3325acfcc5f365c92a543accdae846ca3a67bbe44a8f369872e629e093d3c108c330f7f30580b7c0801ab2b6a0c954a8a54e144976b72a01f102d79d0290992a9a1bbde90c0649d881148bd6d0c7bd591712bcd3981df578a1505b64c3a0322ddb3554936ab2416bbc1b730e894cc09baedd8d7902c20098e9a5f0c7e48cfa4ebdd24ca0f39bb999b52e31201e86b0f63e32f00d0361d4a994f6c9138eaf77e448f6686b827ccfa4b8512bd9f6ecc7f2fd4278e03353ca128b9f3a56abfab8194b98db053e820004611c2ad07a912363e04dd7ea8a7107222195a9d9af73f4fbf8ed94bafde64c95ccdee8e297f8079f30482685e245d7667f78d359ae7eef5c40e8264514d106885e4e6a9853e65b8d444afd3d192ce3f3f72c4d8b045d610eb2d1aad007f83eacac1d5c39f9a6d3e45a1a1ba96c9494a41f10b1c442710bea30dfd89854276365bbb8da8920edd191cadab82c9552c08d3be18c2e1f82258f5483a55ddb37bd159cdddcc4b87b70927550bba88ea8d23c012ca46dc682b02b254ca52b39c50583aa54a00b1ffb397a6f0d063a257caa3e1833b2efd727a19dcd948dc84fe85a10981f5807aa2a43bc36061aa54d6725e9e6be5536a93cf355e82e161b5534f1f7882126dacca0dd5b9281c6d43ded2c3806467aaf920874e10ea5bff94ba30150e7f457786484f57fcd17f25c03a3fb896322faabff7aa92a72cc1e5eba09a832157069932c41f8a31a5cd1be0be6c9595572ada4f90658895349da39ac558c6e163c9e50fb6a70023dbdbf6083265d75869321e2c7b551112ec8fdd7291e1e0a3a192b5b0a4618606f43336e5a941c085ddf66b10a172d1550ff8c545bbaca5839b750bb94ac304722f0e9d5472c01bf7cb65c9bed22cf4be0ca77fa59fbfb73cdfd13c1bd0b6cddd042e61d96da21e4d8d945a6cc05d8d07df615e455c55e1e9e77ce509a6dcb447ba5c1da65e89d99a64c28eeb9c351dfa630f18c5d45dc7390a6b541c4ee17d85940b00ccfe70f5537650dd62436c854087944a5daa87caecb24c25030572f6b687389e6b4eb868caf8dcf82f126f508efd541ba65aa91142e059ef6529bb07f3f33d4187952b24fb5861bf44110a25c7ed367867f4c2306c78879a163b3714d523debf445975a7d0922b087994767b03ff581b9ba1d214372caeabfa81a19358763f075b5f80d2c65c528a9ec3dbad682732fcdca3dbc60d6a69cdb457b6c75a4f71631456cc7f018daeb18ed9fd74b510801e380a9ef0eedaf1d71aa992bc265676b19a3d803bb0f402872abd65b05fc1998f54a757ddfecb38a832c77665bd212005ada3e3a98a5b30067accab5998efaee9112b2b173a0b48bd33680eef03409f120c0c6be7b8593792b5d1b627862f0ac8898bf7189372e0e2ed9b1002fc361d8a14701440a79f2cc73036cd4caa9e124760be4c54e3a0429cbd059f810971cf7436eb37cf455a5a0a4223ed978a5cda9d6867d77854f2799d4f7c3c9b4aae26156c7350a956ee259fda859f11dfd5080299ffdfcfecb31dc277914e9c91779032842dbf52e054608408ce48c37c9c11fa1834153f25377033af72b191afce31101dc029fca72b7773a46b1c000b90f638d9d17c796a246f8922c30a2c78b5538faf94bfae92678cbdf2927d2ea5cf4d1cbee4e4d5052d1c53d1ea32621910d632cbcce4a5fe2a8a06ed6732da18ae1411ea53fe6abfa111bedecae075ef06a63fdc875973dfa3641449ef116b9c441c3087ea272019bd51f3656242e0513301d09e3d5cef503719492e3d67c9fa6451aaca3a81f44845ef14fa5c8eb592252ac1a570d9aa79795f62a69013ad4bf3c6c6057864ed96c22e9ef49d52f9f2e2b9009bf19d64895f96a68c6b963097a296b76e84611e10f889ec75b630991e1e0c1a0688df342e23555c9aa5879c9553cf3c5cb2bcbc50fc3c36fb7c5b37aadb23bb0f5bce653b077901de9797508e79e2c72857a80db6e6dd65c9eb901db389a8ca1f1bea2f798bcf28e2ac5a5538b225e14b09eb99b3d218462f4a3c8cb073f193d80bef86b21311e9eb558bd5ac580136d93296dedd62658f640c559267e43ba74b332e969f28424f2d1f3965f7f2f916fca939087374a87815c2ef33ab1d42e9fa6673e9415303f32edb5002db11b28e095b47e56857b33c8c5ea7d3d9cec3d0f436ca7c071a8d8e83cf91e7d37a5a39ac9c668acbdbf766d4d869f8b88a11fec326fa7eba90a394c0d5c9bcc8b5ec2050efe08b53a6d7ffa44e5675aa3fe54ec88a4c16a97279406e86ed014858f8efbe45178dc233f2ff818c5b2dce5f43321c869c48ca68fb0893446b598c72b257cbbe1c0a0f46ccb6ac0e2487a3a659a59c913beec6403b5a53a035ca357166be1190a3f08b593d72e8cc0bd2b5464953257b1f243fe82bb9e9293c03b28a9e3cc616d82fe8ac32b695b7b179bd3d620d66c16a91a6d74b6447690b9e5e3c589ac70326a1f36bc693039c955d59e7638125dd1d321203227edcceb995dfdf89848477932ec5d314ad580de51552d5f6811d43170c10c87a4e71f8966b708232a7f38ab33b894530be8420febb8b46570c13a5f834a7bef26662672f1476f78d078c603a6df0d11bb98010d9a68dcc30778bb3941d46ade0c470e20c37c654310b285f6e4da7930a83e85b003c77ba8742e29eb45bc19fe02eee6bbaccfe6415149420e13f0673ccbef97954bf87a9cc6022053121ed2948be159945650c3ef7c02c5be24c65539edde134e2a534fe084b7601b9cb9630aae674a6effca71fdd9d23e13570d89fb9701230bb0474525df46b6bc7b89396063ca00b04b8f45461ea0945798dc1a0654fe4c6266674e08b90efe84fd48e7248b9a98047486d3de9c0cb9e1e73b1438a992fa3d49708a54464ba4312110c92325db285f5f392b7bda8dc2533d7835dd1dd2c96807f8db67af2e760721dc8dd3a1ed49a1e12afa4dcfb63c2ec28671b211129d63372953180ae0b3b5d2cfc6f3268ca526f1cadfaff23389c1e3ebbdaea8371af7eaa2d634d55476c9279a1ba38e4897160fb17dbafceab79efc18c6bf4ecf27e454222db0cf9206fea975a579db119396e53ecbc0f6603d26af0224c7b28a5a7aa2a816b4a1fef14b667ecccb78be856cea7bde02fd9901a709fe251e46b168fdda5f7574ea411b29be49cc1e7859327626e324174825bb429a5b2ea23b0544c4b2f87e8e4857c2a37b96784a6c0a7eb66da60b330bec7098317713533ab5073c86b8f6db77c90cbb03c9e996616c8cc5f2cea97b8d25aa6a468ca5762a14e5dcc489b7323b583319513aa3494038ac4264fcb87f6459c1386ae50b531e084782ca3d98dcf30d7f440efe73ecaae278e1c3ded063e12a01efe1e6ced6234e3b8387dccf82e7a09855852b5f3a86bb071d1d9ade3b9e975fca8f2718275c3ee0ae43e6c7fe1d0efffb44fef91601eeb60256a2ed1094f4a2a414d5221b3daa76bfe2f7e879cdfb7a828290a27a9cc81fbdf6bda68425b51208688761b4c724f1b1fe0898778b5805a1484ed99e4784f6e224217d5591e7cd1de6179821cdcd393ffedcb4448b611fe773012a4d713aa541d6317cdc2ee9d64f5e9b71fa5f01f05c6fbf6e1d26ce25253d1ac0e4732e6b13296b52b1196d265216319577ff3920cf9ec9cd5bdaeb96382b732bca9f200d9087a0ebc91eeae12a983b60665763467765f1c848678623186bf47e956c2ee8d7015663abf32782166be098ca15f33123df681f22aaa6c970968ce394a97cbb5d1c0f6c7340ac2ce06cb4678f2b071fec2a28cf2357921a12bfe16152e5791e0257df0b94556fb0000b2e183cf30054c87bb3a5b0f8cccdc196776e5ed540ca174c97efcad15ea5ea73eaed0a8ba55294a5410264e447ef740a711a3bf33f53070f1f4ad518c21548b6401eba8e43a12d417716ea545837c75d438db840a939df247ade8d44b3d92fb1bd3239d38273babcf2cab0a1748e434ec13538a3f5f6464f7e8e164ac117b0cdb8209df6a1f037fea7a99aa530cef75387721ea8f4f70d763f4a7e0088f7239c41af1e72846fff1301d19f42182e1b8fc8125e6101973b8b3d958b637cfffa96ab7113c738e43d4bf22a72c646091c3ac92feca44c972873cc10bf4eedc790380a99651024cc582fe5fb3cb14983d3aa763177e8781958da6b546cb80d3932e67391067fdbc9057b1c7aed0d890350d91d27aafeccb9564a9932bf392c2c585b995de1ed51610030be72eb62cdd0d0cd9d2ce3110a2c80474f8b1d50e6d5b375907cae39212676e0eb153cf8665c1c0e2615bbf619bfe6bb55be888fc8184630b593c2d42fc4964f929115134f37305435b0560f961cacaf8b1528bac84e8135eedb0eb85b46a3152d2d95d4fbdacfe9288f14a9b8d8d89c86aac8d86378ae333259f891eac4bea58c1ac865fb63977b27bbf7b3752dab84666d78d8999222e849a1a7c7956916c700063913e63d4a7f4ecead33fdf73d444d624c34767273c6a9da3d5c419915af58aaa87872f3aba512d140a2bb673fb99dcba08ad7aa4482026cb6fb1c475e8e2c10387fca33de4a415f3e96eaf778196e2dc7c1e71b81eeb383574bda441cedf2142daf869ecf4d524dfee8ee6aef35e1270821bc52a3157ec886c70fc2689670b26ad1de4471121c37040eba03213865ab968baa7cb7020f5867e28dcdc10b16e90d1c92dca39a9357424adda8cf0334f7e0cfe97a425058fa9cf20b9ffa549dc63dcfbd620a341898852dac01e724ab46a88416877dc480d3ac57ad96d19a2209ae1b5ec1cb11f7f4e6b87d2fabcd398773416781edb9c445694feee047b3458b084f9272b3dead0fae7450199de6126b67c6020d946706771f72041b4885ccf93c6e55b15581b5a16504364f787642ee4ed5a7cf8169c287eac0aeaa952c8357f799da90884d948bfe5556bfad0d6b10888ae5949f38b25c1375d03877bd3bc40be3e232640c22e1d9b719a2dd68bf777cc645854dccbd21555147a245be31d13e6da6689ee18d8a19da3cc009df6064e259ab7656cff28f73385c16b7ade3918809ef17c4b41157d8a4a857d13683aac8d8b657fd8ce505f317b040bb89d742e7c60b87e099caef3b08198835a9acfd4feb718808e71b860bde9092e609fe187c7eb91bbc7a768bae99ab96a616cfa21d0266650fa7ad9877aa4a853afb40bec49eabe5d4d60254f54dfd6928f0225af73bcbc6c63ea817cb06690fd983c675aace95973d537c70c6867ba2d3c95a566ddfc9a43dfb5c4f4c142e7e85018d713b27018428a2687f2f6ba532e7a6f7c2bb083069cd09d6e1f98e43ef9c47000c38fe57849133ef9c3827d54d8d279fd2ac6a0886bdbaeea938c4fa3ca5012eb0fbce3cfe2099ffa8a6dc3961e33f033fd90a5f1eac02612a33a0f6bb084e75b577fa753eea78e82ec5be0252266d7acbe0f814f67ea28715bfb998567c938c25629ec6190a0ab92e6ae8419b3bc49704c9353efdfecbf4fe32b5fd80a359105c45b255c3c22ece3478e8bf0972a8bff0c28fa2183e2b79f8828c641463f65facf840975b6b54986a3cdbb14aed4bd11bcf99d3b986596421725af2e0a8fe73ac88ba33481b814dce95b80be083ad988f30a690e9e292c19bd36a11028b694e5d2584ee25f607d62a6a1a97c34993622521b45966c4187e887bb7951025ced1e87deef8aa00688063557e5a189e5ca232259ce6b9abdb755886b6d2e01040d088329d736671388ddd3819437aecd67dc853c5bdb376a0d46aa52fb7cd80b6697a06744d819aeb4ea901d487fe66db771c6120e7f7f2df1eb9e4540a46b8c08131b53919279bdd1ff36957d03ebc9d27f9549924d24f004f64d4c71731f0586026ab4b3f2d93084af44bdd3a1a47383db58e49876471a77d28a2420419cbc6b1584d361f388ebf75f19a46403c721c93808df6601b8cab7b936f3ed87ae74389cbd53ad8982a5fa483da9ddbcfa21903d2992220fac54d1b123908b2d220190ee99fa0ccfbf4040d63ca4b601e919aace0edd9eca220ce69d56fea92edc3094b0a339b50cb17cf481f3af64b05d0ac88cc98588e056a036c129ca38ed413b7ad90ab1cdc8bb16288008f4dfa0107bc0f6f8fc3e20335bb0aeae8e8f3a98acedf5f31e8bc3de9b63d6ec342f10e7bde1126df27d9832544b31cbb239673dd0f8d195bd7a8168596bf35155a228e24fe244e8aa97ede65c26e1a7eddd5cd009abc6c932a764f1bfed02765f780afb729dd5f7d2c32f4b096cab95b03190bacf3d29c20d45c8c29844002b526a8d1f5f6e7411f52d52a915a20e8d12ddc543c6cb9b216f56632e6a12e6b7b8fdefb4d6f9bd901861a7e7b24b2d5d0e13120956ae9ebbd49df2ba40f8f9cb3e48c157a270b83668d70a742ca5b718a3fa320ead74f480e647dd8ebf2e90e44eb096868454c5f0c96eacb9c9f15839ec05e4ab9f95cee5e9f079c59767adc83f5094445815ae9914b0f719f48c55a84150d7cd4bad76aeb8a15d38fa78564a2c095ca17249586ea7763027a18591d2bc067339613645c60ffb2f6f49f7adeca9221e4d003721e03f4f517831bd98ba370921ed8610c397ebdf75ede4e42ce14cdfde18bc3a8afa8bb2cd54b71c993264f62f36f2430a3c17156e29e590c9e8eea6998e6f2e678ab4d75eafbaf834486cc4918206ec08d9cb78946daf2ff464d44a8c89954bd8a4908c4ea1508182de3d8f782902e52745e40d13b5e0cfc75e0ce7cca172781b39da893f2881043df196b08524301418a5913d0736ccac333ee1488ed6df3edd9f5a2a48f29d8fd597ab6794cd51920384257628a2048eb75322dd8ac958e26d65d88726d86a46686cf0a3bb7bf3ef977f7c526a84658dcf17a8606877cbe47a680970cc2e6f3ebbd81ed3e5dea2c49a145fdfe2cea9e79aa4a1c933c924144025fb5ad75de952a8c20ef5ce674bc5fd2a2390dd589b453c5b9682ae77dae9fc3049232765966e4dce69eafa0d4683d8335a6e189b0d4df5bf77844eb87773249faf6a37a631c7c7a50848e39f5b245e5145eb94baf9a3b9c284251ec36ec80fdd7c7d763f449c03a38dd9fffa78fd0b9b451cb618287007849c3808c2beef66d95a3a57e023d5e48febb2eb751c07bc84b111785c72f493d24ad522eea90c0e54c6322a8bc6a7cb506be4858925ee4512dc4318e145fb7022c8646240b7a63ab874cbffb82e504bb5ee4ef7f7dca451c21595495d83bb49b99446450a4a42817055325b1c2866b8ae3299d55b19670a952525b7c24228f5c5516efd213fb7cd3e7aaaf074e73f302e6455213288da0ae6cfeaad1517dcabcf63fb95453e57c23731e76302a4fa10fea011c35cd0fb08977b5ff0e779fa277c6b07fa04c8902e450f515e2c68ab1268319328ad1571fb82da3472ed9c5b5554ae4a5913375493df00c89941a5299c1240e404458fe6826bf4f7d34099bd449f0509ae9fee42975ceeccccb16ae65518d06f93a56f5e7720de348d9c2dcdd26653a29ad59d2b4e192d04a807f9cbb06490eecf6ef14a62d2f312473297ebc8bc0b22b152c10e160f2775036b4241ed66b6b6c68a9eb2da6963179a47aa8a1d217d2f84df8ac4c971851e8b6d370e9abde929ccaf7d86310084933cd913f1817e5bf23f3d5d8b28031ba25c9e497324992987be394905f6cfe0ca3d6f02266783a898e9d21823df622cc1b244e30654df0b086cf7e0b7e1165f93f8e78cfcdf0997cd96f93a0cfcd91d03e6b34894c3ddee10707a230796572bc506ca58ab83e196095bdffb754614ee2eaa7bbe316d1d9437bb5148e6779469f31d985c2f3ff0bb39cc9a69dc5b5c0f215d8a43e2d6e2d71d00d43c7bd8c84df1ed6a364571242088a9cafe241cf6d67587ae64be03e62e7edeec26ee5385d5dd89562f32dbf9a789a1805e0854ca916239ce621019def2a01236387b545a15826ac14465d6701df4562aa03819a1072de682dc6861096c5956bb574c8c4329cea6635b8090ad9edca618f0e5a84d1d830005ece6a0c6695d2f58617206b7c8b84c3b4d0c675b5c083325037beb0a9d86b0e4542ff3be258159031ae5717420601ce00f814f2346d6ccbe56cd35fe1e787ad8b1da2332a2290d195227efa053d5bb6e7916766a1ff6c46b4cedea18c5109f9b11d7112857f1e615e929f27aecb53884c6213ade8f8f0a456eee976f521babe9eacb6c9e1de7543549f50ae8435543d63b0c2d5639d29b7539cd3fd70500dd521fb8cac312d670cf2e29d422768a351058806afe1c6f4ced68d5981c9e75c3eec4e7dc99020288620ee627428cc70c69110d593c812acbd18e887c23adde9bebcab530e0da40a2e56c48ad53a36ded3ebb901a9b308cdd3484069e73e82e7512c9ba52c6b26d52085fb5ff6a1505528cc96922e9023ca58e95f289413fe0202308fba7264a768f34af420670b253c6a6c6b728baf5be6d43d8af7beb283c9d7ccdaeacb065515df81f9ccdedd56f94bdb2b811f2e86437e66366d5f5cd00d5b5d86719ad7e6fd20cbf433caf9583d2575859b682462751ea5e2c7376db50257a247e93bedc0f0d5b859e1d59e72b23de63222c405dc62e893bb07edd26d3417b729829b5b4d002c76828d88da707545e8360be346c12239f905776028033f4b9b8743384defa5cf765aae7f496c10dd7f318bbbf9c9ab787765b6f9719a4855706d9dd8a0550ce948da7ee397f0354511f24218ba7e92d8cf2ae40cb16d64c7df213052ddee4bc9a3c2fc1ed05d072a532a5040065f09f3327150a7012a9ae8c522757f80ad42b59b172b7729426af38ada471e683a068b8ee668815cea23485572f9bba528f82ba5fea28c475cbd23c87c91a03fab0afe9864714fbc41578b40905872d86977b75f8a789a23dbb6587a1c9ef31aaba52926592fab1bb65e162812c80c7193f934eb525de4197c58063f2e299b36b25fbb73f07839bd7c5240749f5b0fb4a15262495a2acff6bfe3831d333faa8be5a294749d236f4ed0c6aa8f313e87dd54c022a78592e114cb8422a139f04450389b8976d9ae97bab4800c4926f03685dec9e9d8fdc53d9d227a224d753f46fdbcb85c56deb6a3516364bd9cc5986e7c6ca2f74efef3264a50a7ca18d3cb273d9f2cf4ef129148d380023ace1578bb9a1d4d85d884d790364496100f1b9496b83e30b682f6aa1d54f3df6b411a06f5ccf59eff913dcda6a2a4ee378e285d1f8ca386620ace127e97fd7658c41983a73dd4ece4f7ce8d988475c98c0338ad48e358269f89d98fe8f3fbcc589ffa11650ed7ba7d8cf5da04a86a6fb7252e44dbf100f4ae8b163d285daeb4154904e853fc476af8a7bc01a127b9601761978292205f31d27b6dbf8224f941f9980151b11e930bb3cbc4b8e6397f09e01052a1e74afc815dd7c80ce753b87d457ed98ea8901d39297ee024eebe3e4950ca886e614bf4ed99644d0df602df31c84413dc8630c632526c07307849f9c57e6e0fc71d804572f29cf4be82081a479f18fdd753fbdb69289f3cb43a580de38cd7adff1b9bfa0a0dfc2f00658e947d6b89dad4fba712b48a9fc947e7cd0a68da953a84f25b7ce04ca015367f1f3afe4b2aab6ec5f3128d8f36da16e2a772168296946d5e424a48e7a5a9d47862c618c72cb226e22379ed88dd42324948709294384a82f19e2c4f481b5728d5573c8b483682c0891116124084a8a5ba146d11e03c50a86577ea27cf48c849d141c0306c4e62168b375b894458d6217d252ed229191b78b63c79fc5acd7860d46083bd7b89f89e3b836f1ebdf343ac19de6382e5d20815c36d07073b13c3d178ca06ae3fd79ceb80a7822935af679877d5f1bf1e663982ced5f5541d55e705b364dc4bdefc6d06d6f9220309b49a9c1d009047a29645e67deaac13db01f0edf807bfce962c15b4077cac539a48293b1534212cc5f479f238618d4936d07ca783d7f0ded35e964ebe289fb4846a0342ee90d4a22cb2cf2bf2b9e9dda7a43e14f079696fa3e7dc5fe44d1ded877afa55ccc7e14f6a1763c9148756c38c1c3708b8be95ca6dff7bd225ffd35e7579eb2ca6649672f04038ef63d894b72ce46c3f0c03899084e45dad29e38dab3b62065d886fb400dfc364c00fa748f9e3d6e359d529a61858949c7352c9482dc385ad961274543c64d9c9bfabae998086838ec74fecd9a472d942a809b4ab8e9627427589e2822dff579848c8487ed4e081f18145fd7b77f4757edc988cb252d8f0bcf142bccfe79b7144b72c005c79a58b09f09e8f2aaf8b0b99c08e9c10a87aafaaa713e4778207ea8ab82cb20fb10f0cbc4addef7fc0a97f47c7323e188005de86f9a918a320e6544cd8e220e6dde4480ce96863dcae49fbd87e9984b4629647fad6cf1ce05b671a8ac5c0080fcbb6e25663eb6e32608cc4a7d916383723775241b96b05adfc6c08281e56a0b6787ff921c9ae5a0d24ec1a641ac5508212a8ee8b343cf130a310ea25531914807b6193d685fb2eb6359141b61d3e6acac3077d1b946d05b25de7a1be64b3e12e144a14d52ea537d9482c4f4c18dea39166a31df4e188e982041a05c7165adf41dc73ffcb49214daf28ee4eb9f05ddc05d12cac1d555539dffe73a88e461a2c97f3f965d427b5846c6541e6648357b9c8dd78b1e3e249f9bd3f8c5b95b27fedd186499ec898f2dbfb0aa85898ade76d87857a6a84b3eb3971ffc49f3d70a95e0bcd0bec3e31f7597afd55cdd9aa613b825a6080dd831275775bf6e2b5e0a742527278d0ff5a8f49c3146e0f14ac2f7bef24690b4cbf8d74b76bed7d40bf3054def115157cb22617838f959fd3c4b9b7160dd12c80e926c3f2fd1cca98cd2669633388d2e0999b4ac42bcd854ca7e768f40ea5d51015ca85357a16be2f55c73e4b77ee33f2cf546e6948a2732e368f1cd4c08028e21e0545357b4f9bff7e587133a29e0daf09ba8953125d8dd7c639a629b4c6cfc3aa413d2b84b13d126a2b1f798654c34e81f6458f92804e300dc10670299951b47f6cc04501864823e6bdb6755534bc0594e652acb07deb7c870d4ba865d8840ffbb9877cdcea0f60b3a7cf566514bb0544d115e8b3bda27965cfe8a9098d88a6a2ed7df10e99f6995891ede32c89274cc9b55761d5c8d9d160885705ca0653a4abfb460472f160b6727a3d85e1d679957b5bf47fb6483c9db8d46dd0fccd3d550730dfc61e8ed437254072432a6ebaa95ae66bae5607cb3403706603c3fee6172ea967e896efc8d5f73decd35d6c461e4a06364cb1fe36e456cb03d1c7985878dbd51b1104e03fe8137f7bc8628ebf45dcb79e858a1682ae9e47caf70302cb354a641559169e6594e6c85a8d14c93ed4eee0cf97611c6b5fb324cacda4af7ebf8a8438b2b71ccf49e8748a5ad6ad283b372152e67707a8d52dced281631047d2d8b5b9952937d4f425ea6a075df3aacf4eb2c6a779a2d0d76bcd21b6eb562ff2242fc362abb9a8e54150e698ff098703cc8f1a3b2baf5b9329835c95f1fbf473a790df83efa5d8c37a5938e88314cc9fd038afd00d1e58cf64547424791b86b0b35513d3d364d7365dd8100c7bcfe278c4e2665755eac234bc17a09fae1344f6ef5eaf606388a468c35835eb6536182a324a62d5708d78be54fc074370fb2e15e0f0b4d41ad1e5b09266a5bc128c9f1ee4b12b05d75eb588548d42ed29f9d2d223fceeebdd4dd4cdac5e0f4c667f7639647cd473eb543ffb6a344f3d4486416dc674035c933caf1ff5e529326e6636ed27b6c9347c6b5ac80f49bceb28af93cdd2f1a2a1641a64263471168e50dfbe6b174e9c8b94e8d840a5c72d72e4f40f24fb287d0629fa965e4fd89ff1bcb36b0a9d80b56d50f41eef3c96a238efafa958174c05ccba7330409cc580fe36acdd1bb08830dd90314cbf2c7612b4f84eced1a3b7ef5b043eb6bb65ef4c6f3ddc516ea7ff028127909134523b61fb5b49c0ae10dc768a54e7aa14ea38f86e1f6c3d4f39ce9670bf07df57677552936958a8192b312a3337ada854292b58d0fc92567fbd2d993f80ca6853b88568a6dff7db0f576de295b37429efa08323dc28fa22c2521489f4fb35ae560247da26a585eebd1878de450682734a3782275daf8ea49dfe2ee28ff60611fe0ab25c87b13546574bab7e48f05a4abba28daf019c4bbef943f4a04e1a55256bf2f4821cc80889b67c8a594c41331d576c959ee80fe20fe14e2cbab12361db5c5e66805faa1ed22e98cfe0599f0fb89669c03724fec5adc514a07ed5b9a62d1cac2f0224e0739eb447387efa8a8253645e3327d997374619df2c62c9c2521e4a5f04ed5cabb4c22ab3b0e92c43afbe039ed2af3480a7698ff98f5885fd4bcb39d26e6fbcb779138d847afeac721596789741bba039a49e5d95141baa09a3ecf90c657fa6d67a3357ccdaefbb8bd141c950f1131ecdb527f6d1bd03c193f1b8b3c28ca2b8ae1c00e6147453da2cbee949aa4cf2af0e9f11231eb6ca8aec5c312c834d677cdf07b0cdd41c9469d87500a16810656c40a13ac9667bd0a885d314b9a280d8a8ffe5b349e2ea3525047cdfc47cec777d8ea7cc20a016581e4e698a51ed3b2010a9f1d6c2178db8de95cc030df43b0281d21ee143ba783c54ceec9fd9cdcff9fadac3ec6ee35a6839698a59ae473bbce0ae74ed586c29de7bdd2d9b594171e7ce1f9258ae4c740f59f94fc070dfc875908b5084bd01d74d7ac23aed09ab96b6619a7562046b36598845286065e56439b287e386c87805c4afe7b91e3f01b4284bc2e1dfebcd5b08d12a2e499e2e5ffc2de83b22b06bbad971b20a6efeab78b86373c1075a354a0a265f19bdf82428dafb7d33f70bfa78cad7dc4c05c9b277b12bf8b84a1f853b96999c544773f698876e9fbdc0dfe3d7f552ea6ac8e91a02baf2964df84088c54c17cbe6dc146cd3f97a2165c9a8f83df9584a954c9cf3300db49aae5210de9444fd1198b4cfb8effb9412e7c0cee4e7bf7fbfdcd9105a6c0a4531b19cb24e69e43bd51ffa8d4d12062adbf6c4c6b4711e7ccc044460266fa95230869924152e61be6b9e15d9a147c0a1e16d87f6c5b7428538e2d76669f8e6dab2606a0462b8790913339bd8c69686d82f4cd3408f7aa5d83f8c114b4ce9aaa07b0bfbf16acf96f0d03f5673d0be93437fc67b942d7644d8abd8eda0d3807a77ad462b153887577d71f2ac53ec1d6f90c4f3632215c3dd312982d7fe01ec0848a28646ea30c2689d2d7eff8c6d308624624319f869397a2ee59d1ae8ef6834e395426c4db6ba71d56d82bcd8eb0d6fc249be6913451bcea1ba424a53318208b6479943993274c91e57f4dcc2f7bf56fb3f99621ad715066b02bcdf3a779e1b553a228a5f9db0af9554f4183881a40620c491d7a56c72d207da7a6cadcdb2eddd9e41fcb0f64650093eee8bfcf4c99f679746dffa53c5122c3850f1df875aa70ba2fb0afabd9a4947578a25b5f40f9fe987110ebf9d47029a654a0eea8da2854070bb9f0ab9c8bf250d1d36d661a0102b3390f85cb85391a227627c88926d577f6ce015325f56f8c7c64f8d87cb4785ef8b035ec5fba692e51f468b47629702a8b762149545103ca7253ae0833c702c64ab884a65afa5641ebc402e329951022d25b9674a8366c0030bf0017ba2a4a7bbe64b2d6a2163339f81d46392c7e1ba776b012ddacdc4a38fdc25a39e60073f96ccb30c844e40d3eb8f5998dcbf8b8a0312c3785f194f757e2cfacd8f4603e769bf36931e69b3803ec7472596999925d39b89e5b4f68a49e14d5577ed8cdfb448ff8ed500a931cf248346139230d1c9bff7c12b934b7d9a038af5784c9572c2bcbcaa41307cf7775cdefe6ca4f08a0ff68fdb64795444d6cf425d67cca4be8c6ff5d37dc5333395a2ec45ba868701e1601d525a45653c3e78fe940f3af7398ebd82fdb4df647c0a1beaf53687eb9523a1fc9429f364f5438c17596b4693605dd4bdfa13ab1e44d4051c4d62ad40324c19dca93216ac1a474aa25f3f57cfe6c3a838aa8ff69da298754ac0105d9321b8f0a95a808d4d20bc07ebd2fe8bf2d66603ff85e0b7b904c58ecba7b858f72c7306018bc9db03463611ce5cf60603b6453a95869056ad40c100c838faa902c879c08d4279f3c6c07ac3e7c5bdaa9b4b00b1049352c06bd35a561403564f20fd897b1b4c57cb72ae370c1054d7dc7e5676ee35382ed2790f1b872d2becae95b4e47599cc5f7248f0dbcc022ba875c90c8e71688e5ce5cd2805e512b659cebceb316066935615d168a70f7df704d3ffdbc412ee18ec5c5112df57e486deecbe7830c934e465582965f33b87f23f1957bdcf7ee0247ffb4b040d3ef7b291db43ce15ddc7379eeddafcde58b38ea6214838a5d82149fd6414af024aed44dbd5ad212140cb56431917fc7d5adc38b96d2304f89e995b64b686f415d36147e62817656ff9fdedfd4059ebc1c4857419c12a0fed03e6ce5458896da8757cad45f982fdce311ffdb9721ae0b681d77d117b8721e7eb96f0adb20655ec5a91c5f9257da874cd0f7054d0ecaabb06fc438c9b761181614d3e3e501d958c694011388c3a5ea9c0ad1c279d5c2a1e8110d87e5d8fb8051a9f4ed6690e0d95aa4d423acacd2e2f01708e88712c1a3168fd41b3dd5c07717fba31f1f73049fd952a67c1ce12ffbd2799ade199f34198df1b5f44ba616828eafb3ad74b3e9b241bd4c3c9368ee07b04d40d6b7ea41e3a62f6a44a2a355c54f946de1a774034f3e4a5a333d27ed920e1d75aa5dbf8584d7ddd40142a07b174fa290d8da1bd1206a4690e66439b0a5ea6b9a88f5de3041345b4e6ead13300a67f32922a50afce97bdd42ef309a7c4480d67b4991c1659594e3870b7ae5a5f8c726e12b8bd9effe7ebff3fc4f6008520a770b4d90ca83401c39d2b5cfc00c3efa899aaf2d597067e1709b4dbbe4a23337f92a558ce82d7eda58fa43f00f563f8bd5cb667f0152204055c41414b98eb5e364b8424b23e42c4b52cdf992d33656af90c8f88a0f4ee9019f9d1875311cc1ee1afa2a73a05f7ceb80fd1a3526251473c3e0345da6b71fe7c601cbcbc623194df4a720222ca2a009bafff882feda260494eec9bf2ec8ddb992c5c486a58989f5a6b7ff6278cbfc449ad353d4eb10d6105b3bf5f1b80bb8ac9a07e64199cf6d396c0decdd8349160023e115006c984241ed67cf4d4fe8f105487b25b81405b6bcfe0ea05f46ad77eef1e6b5159022b353a7608533370243a28d268c4c6f6407e38151b14790221066a4814f609c7c5fb7ec52bbf2ff522de204bb27e6f5a93bd6aaeef289ac659d0780e36a68192e3234ee745721d271cb3c5d7c4c8754efc625de2d2e5f75e9675d9ea43d31d0c9188bc6e82b5755615d68f0902441614e8cdf356b956b4f1ee7f2356ce340c4593f7170f1e3b036b696185e16bd83fb61632a90dc32dcfc1dc4d88f3c8c94777fa0b035d6fb245a2c9ced142a5da40d19aad231c040b08170b0ef9e8d1b00b09f1f182ff5b80fe657c56802b3723b3574567b3ec3332ff2234108fa74b5188beed085caf2a482ef781f0bac3266cb408ad1bc91ad758457042bfa5961c73b67836a1c7b085522884b4ff32c568b078c39e3360a2f588fee75572d2ded824a84cd3dd64c4e2762680a1370e8a3533dc2142ecc0c9a7db1d23b8c4f9ea8428058552a8398f3bf7299f510493bb5ede6862146b417df8ef1cf4ac929ec048641957cf16efc9e66fe52526c2936665219eb3ed469af7e2fb5263f60c965d1381d6019779442720b5185614851a192cd9d804146fa14e6bea6c08fdbc0d145c1bc57fb2ae5b4b94f3643cbb9a30a78abd142e6bee500988cde43480bd1d42e24ee3883cbb6c6c447600a74ba567f294a77b27c1c04186e616e8662ce6ce153e05358f31cfb48eeddc3d2140d3501835d472ca4b71361c04647847f415614976fe1c31ef3f0c07ef075ec7eacb3113eedfedd286ae80fe652ddd5e1e9ae9b230e99cebceaebb3c3c4992c464a2276b64b1b98336b2acdede7698fd2e34e7ab713d73caf6ff8fcd9257fff8f935f074929b3b539fd13a8f568af8ed0f202ca6d17edde33f178713fcafc3fd798cb969741bff4a9c1ab87a8d78c512da2620b31daca4cedacaffa7483d1fd221fb7876689574b9a79c58d2014608e638bc3065a6e74925b631bd3ca0614934e1258f8790cb98f22477639e2148152a236a049df18935fdaf4c86b0a50aa6c0a11cfc637a133c70998f6cfa711b053fdcb093e800eb7ded2285437235d0ee9e579a062cf19b63fb896ef9f4aafc89220b0a3983bca5a98a9578270d370502fccdf1ad3b1eef55e66ecdd0d73f177082fbb6b3e7f0cfea28a5c727dad42519ad981c4163942cd69ad43ca8eaa0e63b40b62b93230da18e2a17a8cb041e7c5991f9c8483f0094fa9f6eae40cb05747bcaabb9a08f74f02d369fb51c0850e50dcd1b219f6477b7e9c1ea7cee6917890327b9236743b5471c11f67417fa0e9c6bd826b8077458153c32ff3f2d79b975f5d40ec87209c7479c751c3e92245f76c7fac4050306414245ef8dad0dc49ef2bccbe0666311d225b04952b1b91178a0f887c91867052f0d2b43703d1a115a1239f2c322a1598a536af5326eb01794f41ffee04c386abd7faa726c8704681d41e27c95da2be5032d8ee07373698479f8d10c9b9ef25ec698d953078211fd3adbedaaeeae9bde07eccc8faadc1c5355b1a895f917b912f03356a0ab374811619d9186648ff49979f49be506488a6f0f9995b397f7964fbed925aceba3d0b7bb190a2f6c41f97f7e7574190063517a11d574dcdb9db71594668c4c2979f05cb05feb002af0ee7130d1a9fcbb7f73b231405e8c33e493d2a17f5f1cb71ea75d5ccc6ccd552f8b3f84b04b27b18013f4bc526b1568e05cafbd90e558f8bfffbb12f6473e8064273515c8af41a90fd399b0fa6cd45f8da1f3479ff2992f48bc3d3f93d7434cc886d3a62800b25c44f3ae17e23a0a82151a4ac85a66ee6af43cf634809e41576f9f51799290805a4ac1b9a8b7410abb908a6df9ca81522f42b232fe198c26d05ee227a7e2399c85c0ba2798dcce25b35d1cfc543644cbc259db342b2a6f3bd960052ffb961d2302908b8cff3da167889d42cff5fb13abd5c5ff9c091b909e73499fb6e59bcdd2e94821453c29ab07b269e3306ad9e0ec62a3ed5535727176cd8d38af076d8b9118c4ac489a41d56c4e0e6a7864fcd5b832f2cdc282bdeaa90882fe1a83fbf1283ed017a37fb01e79909dd710a7361e7d0081faf9c828a94a87a6cce2bd72da3a7fee180c1adc4125f83958b7845759219f87c1c67b42565800fe695ae68abefece4d316d6a773052ccecfc57c145e0ba0f65123146386841c5ca5776a8247d2d6594389566f9a39004ae595dd9d50629e285db6997d3767ad7d5f98efb7df0c14065707eeff5284eb6972a9cdd2e0bc1498f7056ead90444f366df8a18d8615f88d28f4fda29d28d2b2a2bc7da1c9769c52bb19a9690a74bbc0aef7883bec18edc97456c7fcf3fcdc7d58ec3c9837aac23fba3cb0226e75b38acf9b0a924359560c7f82c89fc49e18870e51c5d3037a451405eef2efca71a9a54b555e0d7fd9b75f10920503586b7a319a587c9300cb956a304d6f6a55f75ee3484cd40a06950a85558afb1a2f55319a736953dca2d213d57462eeae9bce2d47aab4958f00afb51d7435301333e9daae6074cd4c448db9950c84938f62ccd2387321332cbf300d5b8d6fdac29595c648898378e3e2606e7195dee0f1ec0510346b200609b5821ad803abc99f19f0b25a84bdd8e5e458cd5da3fb5cfa897b91a825d3fdff88519d3eb3e0ffe7bd1a386b1ef49491865469da0e67ab06f5e280870d93a7637ba58f4d2a360c04695e6bf849283dc3e33764b46f1669d8e6bc0a990fa0686c57cbb353cde8516f5159ca8669418ceb4a435fc0645f22f83c8aca57e3ccfcd9ea39286c397dc6bc94171c01acd372fc5adbc7ce7ad993a5ef9a9b609d9a6afa42221e02c7ccae3dccf180372db4e5aace2b97997a83f8500efbe0cd277b040e149e3983bb59291e1cc24235f63a8559a3e00d58d722b20c9b731e81fc2b179a9a22b41db63292ac9c6d10dc0ea295a55d34bd957dabaa2e710d70f5fe0335281e3f28faa1b77f3f121310534f534128b359e0f218520bf37d3fb043eabfb1ebed861ac876a1d65f6e10aa770a0352557f9e7dbd64e2c50c923cd05273e0c94e149dc0fa342f224378732ff0f7cee5d4377eab2a018013a343a9a0055716d0a054796b44b65c96e6aa4d5638b9feef13cd5a6da2fda7a31b49a30fca3aa3de5cdf0c0134d5df549dd2786c933dbf6a69dd104cc86afecb86fb313db41f6fd0b69cec9e88fd836ce6f2bcdf35eb523c43440ac80c88ba8f0e78d57092985e3b7d04b1d9f0c0fe7cdcffd8ff36be499366e69799f3e280692b2a5389fc07efc900b482c38b013a407cf00c214acac5041b5959b30b72a3d791b988c1c3cfb085474a31cb112799a13528e8ff9927b5d60f4909226ae51321ade130eff5bc96a485de78cf654d7c6032b2b4b96ab0f4739f253ab6e8102d8b95158394fe1cd856865794bfd0c3e24c3ee55c771dffe8303136045c5af85361b9969a05e502ae640348e75e1b58b7ea04d1aec0589e9966e189bc69dc87f54e1c0125273ea71c7bab947410a29fcc226ebe594de58b3c2949f89dd3e249e2d81aff9bf03693804993ab59492cf590db4f8de64d048f3067fc35aa641acb2f8cd8861a3abee30678740ca4476d30de0839cc46b71d9e820bbc9f0061a0ac39f4671cd362be8e1cccd0a6664a8f55c89b6464b48ffae66f14654a45bf33251ca568483a087503c274787e297466512ea0458af1200d078837213dcda2be6798b2ca466a5ee9a1e8fe94111cc80219218d26e2ac7a880b5726291241cd390d9ffc749f5313d1d00ce12065583b57a7309008ca49ba0a7eaa971ef54fc57e768d821022b167b9c2cfc94362e49f8aeb9d4f3f6d0d4a1b3e92233137c62b272710c072a60b834122e92d9ffa281c7de321050c54f0e35add2ca34fff28432b37ff2502305d5c5fc36cf428b9ee537b322622616dd3039e2c72336f75a87113ad1729d07e121555b3d820a9ec5cfed912818b97cbb5da940e766f57a2ea2f1044d2f2007de60230aec318e9b6ee985d9e69fec5b1c7dd3e60669452da084bd6b1818d2b05f780b9c6b9900facef08d1b91970f48340721e8ff023a14b1d62897c0f5b8364e8d80fd3cda3494b08f46894ea802ddd480e62bac3f28eca3013238b0ff6c49b568473cf2f4c926e9bd6ee8ce380aabb0cc52330403aa164a4e7b5cf6384e854553593e0f31abf3fa04c0307dcf613804b91bf3ca3eeafb361e6018a784c5c43daab6a70824e5e63b9f25472e7329e0da24baf241d08bb89b608519d666d551f817046020b11d262cccd416ae7544085e5a0ca6353a3a15c34064b998640d9ccd4299d2af57092efae46315273bd99866b028f8986c06817998fc8916a1122387d00abdcd73b327d9b9499750ab4e7c887500dd6304d428edfca39fab3fd4749d0079f4ed4e16c32c7f2f92102e88a6e5453b33820276674b3d5b0745734df056b0978d3b124e2ee7ed82c10f59eb1591db003a5600f27e010567a8","isRememberEnabled":true,"rememberDurationInDays":1,"staticryptSaltUniqueVariableName":"ab7e469948e4989d322e29867cb59cf1"};

            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                if (!isSuccessful) {
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
